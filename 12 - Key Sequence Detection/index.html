<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>
<body>
<script>
  const pressedKeys = [];
  const desiredPattern = ["ArrowUp", "ArrowUp", "ArrowDown", "ArrowDown", "ArrowLeft", "ArrowRight", "ArrowLeft", "ArrowRight", "b", "a", "Enter"];

  function compareArrays(array1, array2) {
    if(array1.length !== array2.length) {
      return false;
    }
 
    for(let i = 0; i < array1.length; i++) {
      if(array1[i] !== array2[i]) {
        return false;
      } 
    }
    return true;
  }

  window.addEventListener("keyup", (e) => {
    pressedKeys.push(e.key);
    pressedKeys.splice(-desiredPattern.length - 1, pressedKeys.length - desiredPattern.length);
    if(compareArrays(pressedKeys, desiredPattern)) {
      cornify_add();
      console.log("Success!");
    }
  });
</script>
</body>
</html>
